# Django Internship Assignment

## Project Overview
A production-ready Django project demonstrating backend development skills, featuring RESTful APIs, token-based authentication, Celery-powered background tasks, and Telegram Bot integration. Built following best practices for security, modularity, and maintainability.

## Features
- Django REST Framework (DRF) APIs (Public, Protected, User Registration)
- Token-based Authentication using DRF TokenAuth
- User Registration triggers a background Welcome Email via Celery
- Telegram Bot integration using Webhook, storing user data in the database
- Environment variable management using `python-decouple`
- Ready for production (`DEBUG=False`, `ALLOWED_HOSTS`, `.env`)
- Admin site for superuser management

---

## Setup Instructions

### 1. **Clone the Repository**
```bash
git clone <your-github-repo-url>
cd Djjango-Internshiip-Assiignment

2. Create a Virtual Environment

python3 -m venv venv
source venv/bin/activate

3. Install Dependencies

pip install -r requirements.txt

4. Configure Environment Variables

cp .env.example .env

Edit .env and set:

Variable	Description
SECRET_KEY	Django secret key
DEBUG	False (for production)
ALLOWED_HOSTS	e.g. 127.0.0.1,localhost,
DATABASE_URL	e.g. sqlite:///db.sqlite3
REDIS_URL	e.g. redis://localhost:6379/0
EMAIL_*	SMTP settings (optional for real emails)
TELEGRAM_BOT_TOKEN_WEBHOOK	Your Telegram Bot API token


‚∏ª

5. Apply Migrations

python manage.py migrate

6. Create a Superuser

python manage.py createsuperuser


‚∏ª

Running Locally

1. Start Redis Server (For Celery)

redis-server

2. Run Django Development Server

python manage.py runserver 8080

3. Start Celery Worker

celery -A api_task_project worker -l info


‚∏ª

API Endpoints

Public Endpoint
	‚Ä¢	GET /api/v1/public/
	‚Ä¢	No Authentication Required

{ "message": "Hello from Public API!" }

Protected Endpoint
	‚Ä¢	GET /api/v1/protected/
	‚Ä¢	Token Authentication Required

{ "message": "Hello from Protected API!", "user": "username" }

User Registration
	‚Ä¢	POST /api/v1/register/

{
  "username": "newuser",
  "password": "password123",
  "email": "user@example.com"
}

Returns auth token and sends welcome email via Celery.

‚∏ª

Telegram Bot Setup

1. Get Telegram Bot Token
	‚Ä¢	Create a bot via BotFather.
	‚Ä¢	Set the token as TELEGRAM_BOT_TOKEN_WEBHOOK in .env.

2. Expose Local Server (for webhook)

ngrok http 8080

3. Set Webhook

curl -X POST "https://api.telegram.org/bot<TELEGRAM_BOT_TOKEN_WEBHOOK>/setWebhook" -d "url=https://<ngrok-url>/api/v1/telegram/webhook/"

4. Test the Bot
	‚Ä¢	Send /start to your bot on Telegram.
	‚Ä¢	Confirm data saved and welcome message sent.

‚∏ª

Celery Task (Email Sending)
	1.	Ensure Redis and Celery are running.
	2.	Register a new user via /api/v1/register/.
	3.	Check Celery worker logs for welcome email confirmation.

‚∏ª

Environment Variables Summary

Variable	Example	Description
SECRET_KEY	your-key	Django secret
DEBUG	False	Debugging flag
ALLOWED_HOSTS	127.0.0.1,localhost,	Allowed hosts
DATABASE_URL	sqlite:///db.sqlite3	SQLite URL
REDIS_URL	redis://localhost:6379/0	Redis URL
EMAIL_HOST	smtp.example.com	SMTP Host
TELEGRAM_BOT_TOKEN_WEBHOOK	xxx:yyy	Telegram Bot Token


‚∏ª

Docker (Optional)

You can add Dockerfile and docker-compose.yml for containerized deployment in production.

‚∏ª

Additional Notes
	‚Ä¢	Web Login Enabled at: /accounts/login/ (Django default login)
	‚Ä¢	Admin panel: /admin/
	‚Ä¢	Celery Required: Redis and Celery must run separately.

‚∏ª

Project Structure Reminder:

Djjango-Internshiip-Assiignment/
‚îÇ
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ views.py
‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îî‚îÄ‚îÄ tasks.py
‚îú‚îÄ‚îÄ api_task_project/
‚îÇ   ‚îú‚îÄ‚îÄ settings.py
‚îÇ   ‚îî‚îÄ‚îÄ urls.py
‚îú‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md


‚∏ª

üöÄ Ready for Submission

‚úîÔ∏è Production-ready settings
‚úîÔ∏è Telegram Webhook working via ngrok
‚úîÔ∏è Celery integrated & tested
‚úîÔ∏è Good code structure
‚úîÔ∏è GitHub push + this README

‚∏ª

For any issues, open an issue or contact the maintainer.

---

## ‚úÖ **Summary of Fixes Applied:**
| Problem | Fix |
|--------|------|
| Incorrect Celery Command | Fixed: `celery -A api_task_project worker -l info` |
| Project Name space | Fixed to `api_task_project` as per your `manage.py` structure |
| Django Login | Mentioned `/accounts/login/` |
| Ngrok | Example included for setting webhook |
| `.env.example` | Clearly mentioned |
| Docker | Marked as optional (not required by your assignment) |
| General Cleanup | Removed extra/unrelated lines (like `pip --version` etc) |
| Directory Structure | Provided for clarity |

---

If you want ‚Äî I can also:
- Generate `.env.example` file.
- Provide sample **Dockerfile** and **docker-compose.yml** (optional).
- Make a Git commit plan for your GitHub.

Let me know.